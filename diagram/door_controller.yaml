title: "FamiLAB Door Controller - Raspberry Pi Zero W Wiring"
# Pi Zero W shares the same 40-pin GPIO header as Pi 4; pinviz has no Pi Zero template
board: "raspberry_pi_4"

devices:
  - type: "i2c_device"
    name: "PN532 NFC Reader"

  - type: "led"
    name: "Relay Module"

  - type: "button"
    name: "Unlock Button"

  - type: "button"
    name: "Lock Button"

connections:
  # PN532 NFC Reader (I2C)
  - board_pin: 1       # 3V3 Power
    device: "PN532 NFC Reader"
    device_pin: "VCC"

  - board_pin: 6       # GND
    device: "PN532 NFC Reader"
    device_pin: "GND"

  - board_pin: 3       # GPIO2 (I2C SDA)
    device: "PN532 NFC Reader"
    device_pin: "SDA"

  - board_pin: 5       # GPIO3 (I2C SCL)
    device: "PN532 NFC Reader"
    device_pin: "SCL"

  # Relay Module (GPIO 17 = physical pin 11)
  - board_pin: 11      # GPIO17 - Relay control signal
    device: "Relay Module"
    device_pin: "+"

  - board_pin: 9       # GND
    device: "Relay Module"
    device_pin: "-"

  # Unlock Button (GPIO 27 = physical pin 13)
  - board_pin: 13      # GPIO27
    device: "Unlock Button"
    device_pin: "SIG"

  - board_pin: 14      # GND
    device: "Unlock Button"
    device_pin: "GND"

  # Lock Button (GPIO 22 = physical pin 15)
  - board_pin: 15      # GPIO22
    device: "Lock Button"
    device_pin: "SIG"

  - board_pin: 20      # GND
    device: "Lock Button"
    device_pin: "GND"
